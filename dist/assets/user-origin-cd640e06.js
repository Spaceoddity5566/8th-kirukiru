var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{_ as r}from"./index-4165e28f.js";import{r as o,ai as n,o as i,c,d,e as m,w as p,s as u,t as f,x as y,m as g,_ as x,h as b,a as h,T as v,F as k,f as w,u as I,D as j}from"./vendor-358810ac.js";import{_ as M}from"./DynamicTextarea-e3d0a7ba.js";import{_ as Y,a as S}from"./AddLove-5b23f283.js";import{t as D}from"./tippy.esm-6c7ac1c0.js";const U={name:"SubscribeView",props:{Name:{type:String,default:""},Username:{type:String,default:""},Userpic:{type:String,default:""},Introduction:{type:String,default:""}}},B={class:"p-4 w-full text-center bg-myBrown rounded-lg shadow-md sm:p-8"},_=d("h3",{class:"hidden mb-2 text-3xl font-bold text-gray-900 dark:text-white md:block"}," 以下內容僅限訂閱者閱覽 ",-1),C=d("h3",{class:"block mb-2 text-3xl font-bold text-gray-900 dark:text-white md:hidden"}," 限訂閱者閱覽 ",-1),H={class:"flex gap-3 justify-center items-start py-4 mb-4"},$={class:"object-cover w-full h-full bg-center scale-[103%] load",alt:""},A={class:"max-w-[80%] text-left text-white"},P={class:"text-myYellow"},T={key:0,class:"text-sm leading-6 text-left text-white"},O={key:1,class:"text-sm leading-6 text-left text-white/60"},N={class:"flex justify-center items-center"},V=y(" 訂閱作者，觀看此文章 ");var L=r(U,[["render",function(e,t,a,l,s,r){const y=o("router-link"),g=n("src");return i(),c("div",B,[_,C,d("div",H,[m(y,{class:"block overflow-hidden shrink-0 mt-2 w-12 h-12 rounded-full",to:{name:"Author",params:{authorId:1}}},{default:p((()=>[u(d("img",$,null,512),[[g,`https://kirukiru.rocket-coding.com/Pic/${a.Userpic}`]])])),_:1}),d("div",A,[d("p",P,f(a.Name),1),a.Introduction?(i(),c("p",T,f(a.Introduction),1)):(i(),c("p",O," 此作者沒有自我簡介 "))])]),d("div",N,[m(y,{class:"py-2 px-4 text-lg text-white bg-myYellow/60 hover:bg-myYellow/80 rounded-lg transition-all",to:{name:"AuthorDetail",params:{authorId:a.Username}}},{default:p((()=>[V])),_:1},8,["to"])])])}]]);const K={name:"KiryReply",components:{DynamicTextarea:M},props:{messageId:{type:Number,default:null},messageInitDate:{type:String,default:""},messageMain:{type:String,default:""},messageMember:{type:String,default:""},messageMemberPic:{type:String,default:""},reMessageData:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!0},messageUserName:{type:String,default:""},articleUsername:{type:String,default:""}},emits:["update-reply","reply-inner"],data:()=>({replyInner:null,replyInnerVm:"",inputHeight:"0"}),computed:((e,r)=>{for(var o in r||(r={}))a.call(r,o)&&s(e,o,r[o]);if(t)for(var o of t(r))l.call(r,o)&&s(e,o,r[o]);return e})({},g(["userInfo"])),methods:{toggleInnerReply(e){if(this.replyInner===e)return this.replyInner=null,void(this.replyInnerVm="");this.replyInner=e},replyInnerHandler(e){const t={messageId:e,main:this.replyInnerVm};this.$emit("reply-inner",t),this.toggleInnerReply(e)},resize:x.throttle((function(){this.inputHeight=`${this.$refs.shadow.scrollHeight}px`}),100)}},R={class:"flex before:absolute relative before:top-0 before:left-0 justify-between p-6 mb-6 before:w-2 before:h-full before:bg-myYellow/40 before:opacity-0 hover:before:opacity-100 before:transition-all"},z={class:"flex flex-col grow shrink"},E={class:"flex flex-col mb-4 md:grid md:grid-cols-4 md:gap-4"},G={class:"flex col-span-3 gap-3 items-start"},F={href:"javascript:;",class:"block overflow-hidden shrink-0 w-16 h-16 rounded-full select-none"},q={class:"object-cover w-full h-full scale-[102%] load",alt:""},J={class:"flex flex-col"},Q={class:"font-medium"},W={class:"text-justify text-gray-900 whitespace-pre-wrap"},X={class:"flex gap-3 justify-end items-center md:flex-col md:gap-1 md:justify-start md:items-end"},Z={class:"order-2 px-1 text-sm text-black/60 md:order-1"},ee={class:"flex order-1 md:order-2"},te={key:0,type:"button",class:"group block px-1 text-sm font-medium text-black/60 hover:text-black/80"},ae=[d("span",{class:"inline-block px-0.5 text-lg align-middle opacity-0 group-hover:opacity-100 transition-all material-icons"},"edit",-1),d("span",{class:"inline-block align-middle"},"編輯",-1)],le=[d("span",{class:"inline-block text-xl font-bold align-middle opacity-0 group-hover:opacity-100 transition-all material-icons"},"turn_left",-1),d("span",{class:"inline-block align-middle"},"回覆",-1)],se={key:0,class:"grid grid-cols-4 gap-4 mb-4 md:pl-16"},re={class:"relative col-span-3"},oe=[d("span",{class:"material-icons"},"close",-1)],ne={class:"flex justify-center items-center md:justify-start"},ie=[d("span",null,"送出",-1)],ce={key:0,class:"mb-4 md:pl-16"},de={class:"flex flex-col w-full md:grid md:grow md:shrink md:grid-cols-4 md:gap-4 md:p-4 md:w-auto md:bg-myYellow/20"},me={class:"flex gap-3 items-start p-4 bg-myYellow/20 md:col-span-3 md:p-0 md:bg-myYellow/0 md:border-none"},pe={class:"flex flex-col gap-1"},ue={class:""},fe=d("span",{class:"mr-1 text-sm font-bold text-black/60"},"作者 ",-1),ye={class:"text-myOrange"},ge=d("span",{class:"text-sm font-bold text-black/60"}," 的回覆 :",-1),xe={class:"text-justify text-gray-900 whitespace-pre-wrap"},be={class:"flex gap-1 justify-end items-center md:flex-col md:justify-start md:items-end"},he={class:"order-2 px-1 text-sm text-black/60 md:order-1"},ve={class:"flex order-1 md:order-2"},ke={key:0,type:"button",class:"group block px-1 text-sm font-medium text-black/60 hover:text-black/80"},we=[d("span",{class:"inline-block px-0.5 text-lg align-middle opacity-0 group-hover:opacity-100 transition-all material-icons"},"edit",-1),d("span",{class:"inline-block align-middle"},"編輯",-1)];var Ie=r(K,[["render",function(e,t,a,l,s,r){const o=M,y=n("src"),g=n("timeformat");return i(),b(v,{appear:"",mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0 translate-y-48","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition duration-300 ease-in","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 translate-y-48"},{default:p((()=>{var l;return[d("li",R,[d("div",z,[d("div",E,[d("div",G,[d("a",F,[u(d("img",q,null,512),[[y,`https://kirukiru.rocket-coding.com/Pic/${a.messageMemberPic}`]])]),d("div",J,[d("p",Q,f(a.messageMember)+" 的留言 : ",1),d("p",W,f(a.messageMain),1)])]),d("div",X,[u(d("p",Z,null,512),[[g,{time:a.messageInitDate,format:"YYYY/MM/DD HH:mm"}]]),d("div",ee,[a.messageUserName===e.userInfo.Username?(i(),c("button",te,ae)):h("",!0),a.articleUsername===e.userInfo.Username?(i(),c("button",{key:1,type:"button",class:"group flex justify-center items-center px-1 text-sm font-medium text-black/60 hover:text-black/80",onClick:t[0]||(t[0]=e=>r.toggleInnerReply(a.messageId))},le)):h("",!0)])])]),m(v,{appear:"",mode:"out-in","enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform opacity-0 translate-x-48","enter-to-class":"transform opacity-100 translate-x-0"},{default:p((()=>[s.replyInner===a.messageId?(i(),c("div",se,[d("div",re,[m(o,{modelValue:s.replyInnerVm,"onUpdate:modelValue":t[1]||(t[1]=e=>s.replyInnerVm=e),modelModifiers:{trim:!0},"set-focus":!0,class:"h-full",onEnterExact:t[2]||(t[2]=e=>r.replyInnerHandler(a.messageId))},null,8,["modelValue"]),d("button",{type:"button",class:"absolute top-0 right-0 opacity-0 hover:opacity-100 translate-x-full -translate-y-1/2",onClick:t[3]||(t[3]=e=>r.toggleInnerReply(a.messageId))},oe)]),d("div",ne,[d("button",{type:"button",class:"py-1 px-4 text-sm text-black/60 hover:text-black hover:bg-myYellow/20 transition-all",onClick:t[4]||(t[4]=e=>r.replyInnerHandler(a.messageId))},ie)])])):h("",!0)])),_:1}),0!==(null==(l=a.reMessageData)?void 0:l.length)?(i(),c("ul",ce,[(i(!0),c(k,null,w(a.reMessageData,(t=>(i(),c("li",{key:t.reMessageId,class:"flex mb-4"},[d("div",de,[d("div",me,[d("div",pe,[d("p",ue,[fe,d("span",ye,f(t.author),1),ge]),d("p",xe,f(t.reMessageMain),1)])]),d("div",be,[u(d("p",he,null,512),[[g,{time:t.reMessageInitDate,format:"YYYY/MM/DD HH:mm"}]]),d("div",ve,[a.articleUsername===e.userInfo.Username?(i(),c("button",ke,we)):h("",!0)])])])])))),128))])):h("",!0)])])]})),_:1})}]]);const je={name:"KiruInfo",props:{showCover:{type:Boolean,default:!0},title:{type:String,default:""},firstPhoto:{type:String,default:""},introduction:{type:String,default:""},articlecategoryId:{type:Number,default:null},artArtlog:{type:String,default:""},artInitDate:{type:String,default:""},showKiruCount:{type:Boolean,default:!1},kiruCount:{type:Number,default:0}},data:()=>({coverUrl:""}),watch:{firstPhoto(e){this.coverUrl=`https://kirukiru.rocket-coding.com/Pic/${e}`}}},Me={class:"w-full"},Ye={key:0,class:"w-full max-h-[440px]"},Se={class:"aspect-w-16 aspect-h-9"},De={class:"object-cover object-center w-full h-full bg-center transition-opacity duration-300 cover load",alt:""},Ue={class:"py-3 mb-6"},Be={class:"flex gap-1"},_e={class:"text-myBrown"},Ce=d("span",{class:"text-myBrown/60 material-icons"},"chevron_right",-1),He={href:"javascript:;",class:"text-myBrown hover:text-myYellow"},$e={class:"grid grid-cols-3 mb-6"},Ae={class:"flex col-span-2 items-start text-3xl font-bold text-myBrown"},Pe={class:"flex flex-col items-end pt-1"},Te={class:"text-right text-black/60"},Oe={key:0,class:"text-right text-black/60"},Ne=y(" 此切切共有 "),Ve={class:"text-black/80"},Le=y(" 個步驟 "),Ke={key:1,class:"mb-6"},Re=["innerHTML"];var ze=r(je,[["render",function(e,t,a,l,s,r){const o=n("src"),m=n("timeformat");return i(),c("div",Me,[a.showCover?(i(),c("div",Ye,[d("div",Se,[u(d("img",De,null,512),[[o,s.coverUrl]])])])):h("",!0),d("div",Ue,[d("p",Be,[d("span",_e,f("kiru"===e.$route.meta.articleType?"切切分類":"文章分類"),1),Ce,d("a",He,f(a.artArtlog),1)])]),d("div",$e,[d("h1",Ae,f(a.title),1),d("div",Pe,[u(d("p",Te,null,512),[[I,a.artInitDate],[m,{time:a.artInitDate,format:"YYYY/MM/DD HH:mm"}]]),a.showKiruCount?(i(),c("p",Oe,[Ne,d("span",Ve,f(a.kiruCount),1),Le])):h("",!0)])]),""!==a.introduction?(i(),c("div",Ke,[d("p",{class:"text-myBrown",innerHTML:a.introduction},null,8,Re)])):h("",!0)])}]]);const Ee={name:"KiruAuthor",components:{AddLove:Y,AddCollection:S},props:{author:{type:String,default:""},username:{type:String,default:""},authorPic:{type:String,default:""},loveCount:{type:Number,default:0},isAddLove:{type:Boolean,default:!1},repliesCount:{type:Number,default:0},articleType:{type:String,default:""}},data:()=>({isLoading:!1}),mounted(){D(this.$refs.copylink,{content:"點我複製連結",inertia:!0,animation:"scale-subtle"}),D(this.$refs.copylink,{async onTrigger(e,t){navigator.clipboard;await navigator.clipboard.writeText(location.href),setTimeout((()=>{e.hide()}),2e3)},content:"已複製連結",inertia:!0,animation:"scale-subtle",trigger:"click"})}},Ge={class:"px-4 w-full"},Fe={class:"flex fixed bottom-0 left-0 z-20 justify-between items-center py-2 px-6 w-full bg-myGray/80 border-y border-myBrown/20 backdrop-blur md:relative md:z-0 md:bg-myYellow md:border md:border-myBrown md:backdrop-blur-none"},qe={class:"flex gap-2 items-center md:gap-8"},Je={class:"object-cover w-full h-full bg-center scale-[103%] load",alt:""},Qe={class:"font-medium line-clamp-1 md:line-clamp-2 author-name"},We=y(" 關注 "),Xe={class:"flex gap-5 justify-end items-center"},Ze=d("span",{class:"inline-block px-1 text-sm align-middle md:text-lg material-icons-outlined"},"mode_comment",-1),et={class:"inline-block px-1 text-sm align-middle md:text-lg"},tt={ref:"copylink",type:"button",class:"block text-myBrown hover:text-myOrange"},at=[d("span",{class:"inline-block px-1 text-xl align-middle md:text-2xl material-icons-outlined"},"file_upload",-1)];var lt=r(Ee,[["render",function(e,t,a,l,s,r){const y=o("router-link"),g=Y,x=S,b=n("src");return i(),c("div",Ge,[d("div",Fe,[d("div",qe,[m(y,{class:"block overflow-hidden w-12 h-12 rounded-full md:w-14 md:h-14",to:{name:"Author",params:{authorId:a.username}}},{default:p((()=>[u(d("img",Je,null,512),[[b,`https://kirukiru.rocket-coding.com/Pic/${a.authorPic}`]])])),_:1},8,["to"]),d("h2",Qe,f(a.author),1),m(y,{to:{name:"Author",params:{authorId:a.username}},class:"hidden font-bold text-myBrown hover:text-myOrange bg-myGray transition-all md:block button-sm"},{default:p((()=>[We])),_:1},8,["to"])]),d("div",Xe,[m(g,j(e.$attrs,{"show-love-count":!0,"love-count":a.loveCount,"icon-class":"inline-block px-1 text-sm md:text-lg align-middle material-icons","count-class":"text-sm md:text-base","is-add-love":a.isAddLove,"article-type":a.articleType}),null,16,["love-count","is-add-love","article-type"]),m(y,{to:{name:e.$route.name,params:e.$route.params.articleId,hash:"#article-replies"},class:"block text-myBrown hover:text-myOrange"},{default:p((()=>[Ze,d("span",et,f(a.repliesCount),1)])),_:1},8,["to"]),m(x,j(e.$attrs,{"icon-class":"inline-block px-1 text-base md:text-lg align-middle scale-110"}),null,16),d("button",tt,at,512)])])])}]]),st="/8th-kirukiru/assets/user-origin-c53f5826.jpg";export{lt as _,ze as a,Ie as b,L as c,st as u};
